

@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@model Student
<div>
    @* <form asp-controller = "Student" asp-action = "Create" method="post" class="mt-3"> *@
    @* <form action="/Admin/Student/Add" method="post" class="mt-3"> *@
	<form asp-route="AddPost" method="post" enctype="multipart/form-data" class="mt-3">
        <div style="margin-top:7px" class="form-group row">
            <label asp-for="Name" class="col-sm-2 col-form-label"></label>
            <div class="col-sm-10">
                <input asp-for="Name" class="form-control" placeholder="Name">
                <span asp-validation-for="Name" class="text-danger"></span>
            </div>
			
        </div>
        <div style="margin-top:7px" class="form-group row">
            <label asp-for="Email" class="col-sm-2 col-form-label"></label>
            <div class="col-sm-10">
                <input asp-for="Email" class="form-control" placeholder="Email">
			    <span asp-validation-for="Email" class="text-danger"></span>
            </div>
        </div>
        <div style="margin-top:7px" class="form-group row">
            <label asp-for="Password" class="col-sm-2 col-form-label"></label>
            <div class="col-sm-10">
				<input asp-for="Password" class="form-control" placeholder="Password">
                <span asp-validation-for="Password" class="text-danger"></span>
            </div>
			
        </div>
        <div style="margin-top:7px" class="form-group row">
            <label asp-for="Branch" class="col-sm-2 col-form-label"></label>
            <div class="col-sm-10">
                <select asp-for="Branch" class="custom-select mr-sm-2"
                asp-items="Html.GetEnumSelectList<Branch>()"></select>
            @*<select asp-for="Gender" asp-items="ViewBag.AllBranches"></select>*@
            </div>
			<span asp-validation-for="Branch" class="text-danger"></span>
        </div>
        <div style="margin-top:7px" class="form-group row">
            <label asp-for="IsRegular" class="col-sm-2 col-form-label"></label>
            <div class="col-sm-10">
				<input type="checkbox" class="custom-control-input" asp-for="IsRegular">
                <span asp-validation-for="IsRegular" class="text-danger"></span>
            </div>
			
        </div>
        <div style="margin-top:7px" class="form-group row">
            <label asp-for="DateOfBirth" class="col-sm-2 col-form-label"></label>
            <div class="col-sm-10">
				<input asp-for="DateOfBirth" class="form-control">
                <span asp-validation-for="DateOfBirth" class="text-danger"></span>
            </div>
			
        </div>
        <div style="margin-top:7px" class="form-group row">
            <label asp-for="Gender" class="col-sm-2 col-form-label"></label>
            <div class="col-sm-10">
            @foreach (var gender in ViewBag.AllGenders)
            {
                <label class="radio-inline">
                    <input type="radio" asp-for="Gender" value="@gender"
                    id="Gender@(gender)" />@gender<br />
                </label>
            }
            <span asp-validation-for="Gender" class="text-danger"></span>
            </div>
            
        </div>
        <div style="margin-top:7px" class="form-group row">
            <label asp-for="Address" class="col-sm-2 col-form-label"></label>
            <div class="col-sm-10">
				<textarea asp-for="Address" class="form-control" placeholder="Địa chi"> </textarea>
                <span asp-validation-for="Address" class="text-danger"></span>
            </div>
			
        </div>
        
        <div style="margin-top:7px" class="form-group row">
            <label for="imageFile" class="col-sm-2 col-form-label">Profile Image</label>
            <div class="col-sm-10">
                <input type="file" name="imageFile" id="imageFile" class="form-control-file" accept="image/*" onchange="previewImage(this)" />
                <small class="form-text text-muted">Choose JPG, PNG, or GIF image from your computer (max 5MB)</small>
                <div id="imagePreview" style="margin-top: 10px;"></div>
            </div>
            
        </div>
        
        <div style="margin-top:10px" class="form-group row">
            <div class="col-sm-10">
                <button type="submit" class="btn btn-primary">Create Student</button>
            </div>
        </div>
    </form>
</div>

<script>
function previewImage(input) {
    const preview = document.getElementById('imagePreview');
    
    if (input.files && input.files[0]) {
        const reader = new FileReader();
        
        reader.onload = function(e) {
            preview.innerHTML = '<img src="' + e.target.result + '" class="image-preview" alt="Image Preview">';
        }
        
        reader.readAsDataURL(input.files[0]);
    } else {
        preview.innerHTML = '';
    }
}
</script>